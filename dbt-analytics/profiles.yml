automated_intelligence:
  target: dev
  outputs:
    dev:
      type: snowflake
      # Account and user are not needed when running in Snowflake
      # They will use the current session context
      account: 'not needed'
      user: 'not needed'
      role: SNOWFLAKE_INTELLIGENCE_ADMIN
      warehouse: automated_intelligence_wh
      database: automated_intelligence
      schema: staging  # Base schema (will be overridden by custom_schema in models)
      threads: 4
      client_session_keep_alive: False
      
    prod:
      type: snowflake
      account: 'not needed'
      user: 'not needed'
      role: SNOWFLAKE_INTELLIGENCE_ADMIN
      warehouse: automated_intelligence_wh
      database: automated_intelligence
      schema: staging  # Base schema (will be overridden by custom_schema in models)
      threads: 4
      client_session_keep_alive: False

    # NOTE: dbt-snowflake does NOT support Workload Identity Federation (as of Jan 2026)
    # The adapter's auth_args() method doesn't pass workload_identity_provider to the connector.
    # For OIDC-based CI/CD, use Python connector directly instead.
    # See: workload-identity/README.md for details
